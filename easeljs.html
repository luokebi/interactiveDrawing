<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style type="text/css">
	canvas {
		border: 1px solid #000;
		position: absolute;
		left: 0px;
		top: 0px;
	}

	.normal {
		cursor: crosshair;
	}

	.acontainer {
		text-align: center;
		margin-top: 10px;
	}

	#temp-input {
		position: absolute;
		left: 0px;
		top: 0px;
		display: none;
	}

	.btn-group {
		margin-top: 10px;
	}

	.btn-primary:active,
	.btn-primary:focus{
		box-shadow: none !important;
		color: #fff !important;
		background-color: #428bca !important;
		border-color: #357ebd !important;
	}




</style>
<link rel="stylesheet" href="bootstrap.min.css">
<body>
<div class="acontainer">
<div class="tools">
		<!-- <div class="btn-group" data-toggle="buttons-radio" id="switcher">
		<button class="btn btn-primary" id="off">off</button>
		<button class="btn btn-primary" id="on">on</button>
		</div> -->

<div data-toggle="buttons-radio" id="actions">
<div class="btn-group">
	<button class="btn btn-primary" id="rect">Rectangle</button>
	<button class="btn btn-primary" id="d-rect">Dashed Rectangle</button>
	<button class="btn btn-primary" id="r-rect">Round rectangle</button>
</div>
<div class="btn-group">
	<button class="btn btn-primary" id="ellipse">Ellipse</button>
	<button class="btn btn-primary" id="s-b">Speech bubble</button>
	<!-- <button class="btn btn-default" id="circle">Circle</button> -->
</div>
<div class="btn-group">
	<button class="btn btn-primary" id="arrow">Arrow</button>
	<button class="btn btn-primary" id="c-arrow">Curve Arrow</button>
	<button class="btn btn-primary" id="d-arrow">Dashed Arrow</button>
	<button class="btn btn-primary" id="db-arrow">Double Arrow</button>
	<button class="btn btn-primary" id="dbd-arrow">Double Dashed Arrow</button>
	<button class="btn btn-primary" id="free-arrow">Free Arrow</button>
</div>
<div class="btn-group">
	<button class="btn btn-primary" id="line">Line</button>
	<button class="btn btn-primary" id="d-line">Dashed Line</button>
	<button class="btn btn-primary" id="free-line">Free line</button>
</div>
<div class="btn-group">
	<button class="btn btn-primary" id="text">Text</button>
	<button class="btn btn-primary" id="blur" >Blur</button>
</div>
<div class="btn-group">
	<img style="height:50px; width:50px; " src="assets/10.svg" id="pic" class="btn pic">
	<img style="height:50px; width:50px; " src="assets/17.svg" id="pic" class="btn pic">
	<img style="height:50px; width:50px; " src="assets/90.svg" id="pic" class="btn pic">
	<img style="height:50px; width:50px; " src="assets/32.svg" id="pic" class="btn pic">
	<img style="height:50px; width:50px; " src="assets/19.svg" id="pic" class="btn pic">

</div>
</div>

<div class="btn-group">
<button class="btn btn-primary" id="undo">Undo</button>
<button class="btn btn-primary" id="redo">Redo</button>
</div>
</div>
<div style="position:relative; height:1199px;width:1583px;margin:0 auto;">
    <canvas id="bg" width="1583px" height="1199px" class="normal"></canvas>
	<canvas id="draw" width="1583px" height="1199px" class="normal"></canvas>
	<textarea id="temp-input"></textarea>
</div>
	
	</div>

<!-- <script type="text/javascript" src="easeljs-0.7.1.combined.js"></script> -->
<script type="text/javascript" src="StackBlur.js"></script>
<script type="text/javascript" src="easeljs-NEXT.min.js"></script>
<script type="text/javascript" src="jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="bootstrap.min.js"></script>
<script type="text/javascript" src="src/easeljs-patch.js"></script>
<!-- <script type="text/javascript" src="main.js"></script> -->
<script type="text/javascript" src="src/bootstrap.js"></script>
<script type="text/javascript" src="src/UndoManager.js"></script>
<script type="text/javascript" src="src/Board.js"></script>
<script type="text/javascript" src="src/Utils.js"></script>
<script type="text/javascript" src="src/shapes/Shape.js"></script>
<script type="text/javascript" src='src/shapes/BoundShape.js'></script>
<script type="text/javascript" src='src/shapes/LineShape.js'></script>
<script type="text/javascript" src="src/shapes/Rect.js"></script>
<script type="text/javascript" src="src/shapes/Ellipse.js"></script>
<script type="text/javascript" src="src/shapes/Line.js"></script>
<script type="text/javascript" src="src/shapes/Arrow.js"></script>
<script type="text/javascript" src="src/shapes/FreeLine.js"></script>
<script type="text/javascript" src="src/shapes/FreeArrow.js"></script>
<script type="text/javascript" src="src/shapes/Text.js"></script>
<script type="text/javascript" src="src/shapes/Pic.js"></script>
<script type="text/javascript" src="src/shapes/Blur.js"></script>
<!-- <script type="text/javascript" src="backup/draw3.js"></script> -->

<!-- <script type="text/javascript" src="build/paintBoard.min.js"></script> -->
<script type="text/javascript">
	var bgCanvas = document.getElementById('bg');
	var blurCanvas = document.createElement('canvas');
	blurCanvas.id ='blur-canvas';
	document.body.appendChild(blurCanvas);
	blurCanvas.style.display = 'none';
	var bCtx = blurCanvas.getContext('2d');
	var ctx = bgCanvas.getContext('2d');
	var image = new Image();
       image.src = "assets/test.png";
        image.onload = function() {
                 ctx.drawImage(image, 0,0, 1583, 1199);
                 blurCanvas.width = image.width;
                 blurCanvas.height = image.height;
                 bCtx.drawImage(image, 0,0, 1583, 1199);
                 stackBlurCanvasRGBA( 'blur-canvas', 0, 0,  blurCanvas.width, blurCanvas.height, 8);
        };
	
	var p = new paintBoard.Board('draw');
	//var p = paintBoard.createBoard('draw');
	//var pb = new PaintBoard('test');

	$('#actions').find('.btn').on('click', function() {
		$('.btn').removeClass('active');
		p.setShapeType($(this).addClass('active').attr('id'));
});

	$('.pic').on('click', function () {
		p.setInsertImage(this.src);
	});

	p.onUndoChange(function(canUndo, canRedo){
		$('#undo').attr('disabled', !canUndo);
		$('#redo').attr('disabled', !canRedo);
	});

	$('#undo').on('click', function() {
		p.undo();
	});

	$('#redo').on('click', function() {
		p.redo();
	});
</script>
<script type="text/javascript" src="pathParser.js"></script>
</body>
</html>